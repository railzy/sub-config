version = 1
[custom]
  enable_rule_generator    = true
  overwrite_original_rules = false

  # Options for custom base configuration file
  clash_rule_base = "https://raw.githubusercontent.com/railzy/sub-config/main/base/clash_me.yml"
  #surge_rule_base = "base/surge.conf"
  #surfboard_rule_base = "base/surfboard.conf"
  #mellow_rule_base = "base/mellow.conf"
  #quan_rule_base = "base/quan.conf"
  #quanx_rule_base = "base/quanx.conf"

  # Options for adding emojis
  #add_emoji = true
  #remove_old_emoji = true

  # Options for filtering nodes
  #include_remarks = []
  #exclude_remarks = []

  # [[custom_groups]]
  # import = "snippets/groups_forcerule.toml"

[[custom_groups]]
  name = "ğŸ”° èŠ‚ç‚¹é€‰æ‹©"
  type = "select"
  rule = [
    "[]AutoJP",
    "[]AutoHK",
    "[]AutoUSA",
    "[]AutoTW","[]JPå‡è¡¡","[]HKå‡è¡¡","[]USAå‡è¡¡",
    "[]DIRECT",
    "(æ—¥|jp|Japan|JP)",
    "(æ¸¯|hk|Hong Kong|HK)",
    "(å°|tw|Taiwan|TW)",
    ".*",
  ]

[[custom_groups]]
  name = "ğŸ¥ YouTube"
  type = "select"
  rule = [
    "[]AutoUSA",
    "[]AutoJP",
    "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    "(ç¾|USA|America|US)",
    "(æ—¥|jp|Japan|JP)",
    "(å°|tw|Taiwan|TW)",
    "(æ¸¯|hk|Hong Kong|HK)",
    ".*",
    "[]DIRECT",
  ]

[[custom_groups]]
  name = "Spotify"
  type = "select"
  rule = ["[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", "[]ğŸ¯ å…¨çƒç›´è¿", ".*"]

[[custom_groups]]
  name = "ğŸ¥ NETFLIX"
  type = "select"
  rule = ["[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", "[]ğŸ¯ å…¨çƒç›´è¿", ".*"]

[[custom_groups]]
  name = "ff14"
  type = "select"
  rule = [
    "[]AutoJP",
    "[]AutoUSA",
    "[]AutoHK",
    "[]AutoTW",
    "[]DIRECT",
    "(æ—¥|jp|Japan|JP)",
    "(æ¸¯|hk|Hong Kong|HK)",
    "(å°|tw|Taiwan|TW)",
    ".*",
  ]

[[custom_groups]]
  name = "ğŸŒ å›½å¤–åª’ä½“"
  type = "select"
  rule = ["[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", "[]ğŸ¯ å…¨çƒç›´è¿", ".*"]

[[custom_groups]]
  name = "â›”ï¸ å¹¿å‘Šæ‹¦æˆª"
  type = "select"
  rule = ["[]ğŸ›‘ å…¨çƒæ‹¦æˆª", "[]ğŸ¯ å…¨çƒç›´è¿", "[]REJECT", "[]DIRECT", "[]PASS", "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©"]

[[custom_groups]]
  name = "ğŸ›‘ å…¨çƒæ‹¦æˆª"
  type = "select"
  rule = ["[]REJECT", "[]DIRECT", "[]PASS", "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©"]

[[custom_groups]]
  name = "ğŸ¯ å…¨çƒç›´è¿"
  type = "select"
  rule = ["[]DIRECT", "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", ".*"]

[[custom_groups]]
  name = "EpicGames"
  type = "select"
  rule = ["[]DIRECT", "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", ".*"]

[[custom_groups]]
  name = "â“‚ï¸ å¾®è½¯æœåŠ¡"
  type = "select"
  rule = [
    "[]DIRECT",
    "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    "[]AutoJP",
    "[]AutoUSA",
    "[]AutoHK",
    "[]AutoTW",
    "[]ğŸ¯ å…¨çƒç›´è¿",
    ".*",
  ]

[[custom_groups]]
  name = "Xbox"
  type = "select"
  rule = ["[]â“‚ï¸ å¾®è½¯æœåŠ¡", "[]REJECT", "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", "[]DIRECT", ".*"]

[[custom_groups]]
  name = "Bing"
  type = "select"
  rule = [
    "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    "[]AutoJP",
    "[]AutoUSA",
    "[]AutoHK",
    "[]AutoTW",
    "[]ğŸ¯ å…¨çƒç›´è¿",
    ".*",
  ]

[[custom_groups]]
  name = "ğŸ¤–OpenAI"
  type = "select"
  rule = [
    "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    "[]AutoUSA",
    "[]AutoJP",
    "[]AutoHK",
    "[]AutoTW",
    "[]DIRECT",
    "(ç¾|USA|America|US)",
    "(æ—¥|jp|Japan|JP)",
    "(æ¸¯|hk|Hong Kong|HK)",
    "(å°|tw|Taiwan|TW)",
    ".*",
  ]

[[custom_groups]]
  name = "eh"
  type = "select"
  rule = [
    "[]AutoUSA",
    "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    "[]AutoJP",
    "[]AutoHK",
    "[]AutoTW",
    "[]DIRECT",
    "(ç¾|USA|America|US)",
    "(æ—¥|jp|Japan|JP)",
    "(æ¸¯|hk|Hong Kong|HK)",
    "(å°|tw|Taiwan|TW)",
    ".*",
  ]

[[custom_groups]]
  name = "tw"
  type = "select"
  rule = [
    "[]AutoTW",
    "[]DIRECT",
    "(å°|tw|Taiwan|TW)",
    "(æ¸¯|hk|Hong Kong|HK)",
    "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    ".*",
  ]

[[custom_groups]]
  name = "hktw"
  type = "select"
  rule = [
    "[]AutoHK",
    "[]DIRECT",
    "(æ¸¯|hk|Hong Kong|HK)",
    "(å°|tw|Taiwan|TW)",
    "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    ".*",
  ]

[[custom_groups]]
  name = "github"
  type = "select"
  rule = [
    "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    "[]AutoUSA",
    "[]AutoJP",
    "[]AutoHK",
    "[]AutoTW",
    "(ç¾|USA|America|US)",
    "(æ—¥|jp|Japan|JP)",
    "(å°|tw|Taiwan|TW)",
    "(æ¸¯|hk|Hong Kong|HK)",
    ".*",
    "[]DIRECT",
  ]

[[custom_groups]]
  name = "ğŸŸ æ¼ç½‘ä¹‹é±¼"
  type = "select"
  rule = ["[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", "[]ğŸ¯ å…¨çƒç›´è¿", ".*"]

[[custom_groups]]
  name = "ff14patch"
  type = "select"
  rule = ["[]DIRECT", "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", ".*"]

[[custom_groups]]
  name = "AzurLane"
  type = "select"
  rule = ["[]DIRECT", "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", ".*"]

[[custom_groups]]
  name = "ACT"
  type = "select"
  rule = [
    "[]DIRECT",
    "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    "[]AutoUSA",
    "[]AutoJP",
    "[]AutoHK",
    "[]AutoTW",
    "(ç¾|USA|America)",
    "(æ—¥|jp|Japan)",
    "(å°|tw|Taiwan)",
    "(?!.*10x).*(æ¸¯|hk|Hong Kong|HK)",
    ".*",
  ]

  # æ²¡å•¥ç”¨
  # [[custom_groups]]
  #   name = "ğŸ“² ç”µæŠ¥ä¿¡æ¯"
  #   type = "select"
  #   rule = ["[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", "[]ğŸ¯ å…¨çƒç›´è¿", ".*"]

  # æ²¡å•¥ç”¨
  # [[custom_groups]]
  #   name = "ğŸŒ å›½å†…åª’ä½“"
  #   type = "select"
  #   rule = [
  #     "[]ğŸ¯ å…¨çƒç›´è¿",
  #     "[]DIRECT",
  #     "(HGC|HKBN|PCCW|HKT|æ·±å°|å½°åŒ–|æ–°åŒ—|å°|hk|æ¸¯|tw)",
  #     "[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
  #   ]

  # [[custom_groups]]
  #   name = "ğŸ è‹¹æœæœåŠ¡"
  #   type = "select"
  #   rule = ["[]ğŸ”° èŠ‚ç‚¹é€‰æ‹©", "[]ğŸ¯ å…¨çƒç›´è¿", ".*"]

[[custom_groups]]
  name     = "JPå‡è¡¡"
  type     = "load-balance"
  rule     = ["(æ—¥æœ¬|jp|Japan|JP)"]
  url      = "https://www.gstatic.com/generate_204"
  interval = 150
  # strategy = "sticky-sessions"

[[custom_groups]]
  name = "AutoJP"
  type = "fallback"
  rule = [
    "[]JPå‡è¡¡",
    "(æ—¥æœ¬|jp|Japan|JP)",
    "(å°|tw|Taiwan|TW)",
    "(?!.*(5x|10x)).*(æ¸¯|hk|Hong Kong|HK)",
    "(ç¾|USA|America|US)",
    ".*",
    "[]DIRECT",
  ]
  url = "https://www.gstatic.com/generate_204"
  interval = 300

[[custom_groups]]
  name     = "USAå‡è¡¡"
  type     = "load-balance"
  rule     = ["(ç¾|USA|America|US)"]
  url      = "https://www.gstatic.com/generate_204"
  interval = 300
  # strategy = "sticky-sessions"

[[custom_groups]]
  name     = "HKå‡è¡¡"
  type     = "load-balance"
  rule     = ["(?!.*(5x|10x)).*(æ¸¯|hk|Hong Kong|HK)"]
  url      = "https://www.gstatic.com/generate_204"
  interval = 300

[[custom_groups]]
  name     = "TWå‡è¡¡"
  type     = "load-balance"
  rule     = ["(å°|tw|Taiwan|TW)"]
  url      = "https://www.gstatic.com/generate_204"
  interval = 300

[[custom_groups]]
  name = "AutoUSA"
  type = "fallback"
  rule = [
    "[]USAå‡è¡¡",
    "(ç¾|USA|America|US)",
    "(æ—¥|jp|Japan|JP)",
    "(å°|tw|Taiwan|TW)",
    "(?!.*(5x|10x)).*(æ¸¯|hk|Hong Kong|HK)",
    ".*",
    "[]DIRECT",
  ]
  url = "https://www.gstatic.com/generate_204"
  interval = 300

[[custom_groups]]
  name = "AutoHK"
  type = "fallback"
  rule = [
    "[]HKå‡è¡¡",
    "(?!.*(5x|10x)).*(æ¸¯|hk|Hong Kong|HK)",
    "(å°|tw|Taiwan|TW)",
    "(æ—¥|jp|Japan|JP)",
    ".*",
    "[]DIRECT",
  ]
  url = "https://www.gstatic.com/generate_204"
  interval = 300

[[custom_groups]]
  name = "AutoTW"
  type = "fallback"
  rule = [
    "[]TWå‡è¡¡",
    "(å°|tw|Taiwan|TW)",
    "(?!.*(5x|10x)).*(æ¸¯|hk|Hong Kong|HK)",
    "(æ—¥|jp|Japan|JP)",
    ".*",
    "[]DIRECT",
  ]
  url = "https://www.gstatic.com/generate_204"
  interval = 300

# ä¸ªäººè§„åˆ™ï¼Œä¼˜å…ˆçº§ä»å‰å¾€å
[[rulesets]]
  group   = "ğŸ¤–OpenAI"
  type    = "clash-domain"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/OpenAI.yaml"
[[rulesets]]
  group   = "ff14patch"
  type    = "clash-domain"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/ff14patch.yaml"
[[rulesets]]
  group   = "ff14"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/ff14.list"
[[rulesets]]
  group   = "ACT"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/AdvancedCombatTracker.list"
[[rulesets]]
  group   = "DIRECT"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/MyAlwaysDirect.list"
[[rulesets]]
  group   = "ğŸ¯ å…¨çƒç›´è¿"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/mycn-classical.yaml"
[[rulesets]]
  group   = "AzurLane"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/AzurLane.list"
[[rulesets]]
  group   = "â›”ï¸ å¹¿å‘Šæ‹¦æˆª"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/MyADList.list"
[[rulesets]]
  group   = "ğŸ›‘ å…¨çƒæ‹¦æˆª"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/MyReject.list"
[[rulesets]]
  group   = "hktw"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/myhktw.list"
[[rulesets]]
  group   = "tw"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/mytw.yaml"

# å¹¿å‘Šè§„åˆ™è¦æ”¾å‰é¢å¦åˆ™æ²¡ç”¨
#[[rulesets]]
#  group   = "â›”ï¸ å¹¿å‘Šæ‹¦æˆª"
#  type    = "clash-domain"
#  ruleset = "https://anti-ad.net/clash.yaml"
[[rulesets]]
  group   = "â›”ï¸ å¹¿å‘Šæ‹¦æˆª"
  type    = "clash-domain"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising_Domain.yaml"
[[rulesets]]
  group   = "â›”ï¸ å¹¿å‘Šæ‹¦æˆª"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising.yaml"

[[rulesets]]
  group   = "ğŸ”° èŠ‚ç‚¹é€‰æ‹©"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/railzy/sub-config/main/rules/mine/myglobal-classical.yaml"

[[rulesets]]
  group   = "Bing"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bing/Bing.yaml"
[[rulesets]]
  group   = "EpicGames"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Epic/Epic.yaml"
[[rulesets]]
  group   = "Xbox"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Xbox/Xbox.yaml"
[[rulesets]]
  group   = "ğŸ¥ YouTube"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"

[[rulesets]]
  group   = "Spotify"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml"


[[rulesets]]
  group   = "github"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml"


[[rulesets]]
  group   = "eh"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/EHGallery/EHGallery.yaml"


[[rulesets]]
  group   = "ğŸ›‘ å…¨çƒæ‹¦æˆª"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Hijacking/Hijacking.yaml"

# subconverter é»˜è®¤è§„åˆ™ï¼Œä¸éœ€è¦æ”¹åŠ¨ï¼Œä¼šè¢«ä¸Šé¢çš„è¦†ç›–
[[rulesets]]
  group   = "â“‚ï¸ å¾®è½¯æœåŠ¡"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml"

[[rulesets]]
  group   = "ğŸ¥ NETFLIX"
  type    = "clash-ipcidr"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix_IP.yaml"
[[rulesets]]
  group   = "ğŸ¥ NETFLIX"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml"
[[rulesets]]
  group   = "ğŸŒ å›½å¤–åª’ä½“"
  type    = "clash-domain"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia_Domain.yaml"


  # ç›´æ¥æ•´åˆä¸Šè¿°çš„å‡ æ¡
  # [[rulesets]]
  #   group   = "ğŸŒ å›½å†…åª’ä½“"
  #   ruleset = "https://cdn.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/ChinaMedia.list"


# [[rulesets]] # ç”¨ä¸ä¸Š
#   group   = "ğŸ“² ç”µæŠ¥ä¿¡æ¯"
#   ruleset = "https://cdn.jsdelivr.net/gh/tindy2013/subconverter@master/base/rules/DivineEngine/Surge/Ruleset/Extra/Telegram/Telegram.list"
#[[rulesets]] # geoip å¤Ÿäº†
#  group   = "ğŸ”° èŠ‚ç‚¹é€‰æ‹©"
#  ruleset = "https://cdn.jsdelivr.net/gh/tindy2013/subconverter@master/base/rules/DivineEngine/Surge/Ruleset/Global.list"
# [[rulesets]]
#   group   = "ğŸ è‹¹æœæœåŠ¡"
#   ruleset = "https://cdn.jsdelivr.net/gh/tindy2013/subconverter@master/base/rules/DivineEngine/Surge/Ruleset/Extra/Apple/Apple.list"
# [[rulesets]]
#   group   = "ğŸ¯ å…¨çƒç›´è¿"
#   ruleset = "https://cdn.jsdelivr.net/gh/tindy2013/subconverter@master/base/rules/DivineEngine/Surge/Ruleset/China.list"
[[rulesets]]
  group   = "ğŸ¯ å…¨çƒç›´è¿"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Download/Download.yaml"

  # å›½å†…èƒ½ç›´è¿çš„ç½‘ç«™ï¼Œå¯¼è‡´nikkeä¸‹ä¸åŠ¨
  #[[rulesets]]
  #  group   = "ğŸ¯ å…¨çƒç›´è¿"
  #  type    = "clash-domain"
  #  ruleset = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"


  #[[rulesets]]
  #  group   = "ğŸŸ æ¼ç½‘ä¹‹é±¼"
  #  ruleset = "[]GEOSITE,geolocation-!cn"

  # æ˜“å—dnsæ±¡æŸ“ï¼Œå¼ƒç”¨
  # [[rulesets]]
  #   group   = "DIRECT"
  #   type    = "clash-ipcidr"
  #   ruleset = "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"

#[[rulesets]]
#  group   = "DIRECT"
#  ruleset = "https://cdn.jsdelivr.net/gh/ACL4SSR/ACL4SSR@master/Clash/LocalAreaNetwork.list"
[[rulesets]]
  group   = "DIRECT"
  type    = "clash-classic"
  ruleset = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/LocalAreaNetwork.yaml"

[[rulesets]]
  group   = "ğŸ¯ å…¨çƒç›´è¿"
  ruleset = "[]GEOIP,CN"
[[rulesets]]
  group   = "ğŸŸ æ¼ç½‘ä¹‹é±¼"
  ruleset = "[]FINAL"

  # [[template_args]]
  # key = "clash.dns.port"
  # value = "5353"

[[rename_node]]
  match   = "æ·±æ¸¯"
  replace = "ShenGang"

[[emoji]]
  import = "https://cdn.jsdelivr.net/gh/tindy2013/subconverter@master/base/snippets/emoji.toml"
